â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ CORRECTION RAPIDE VALIDATION INSTRUMENTS - Ã€ COPIER SUR LE VPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ Ã‰TAPE 1: Connectez-vous au VPS via hPanel Terminal

ğŸ“‹ Ã‰TAPE 2: Copiez-collez TOUT CE BLOC (Ctrl+C puis Ctrl+Shift+V) :

cd ~/apps/Metro && \
docker-compose exec -T backend sed -i 's/typeId: Joi.string().uuid().required()/typeId: Joi.string().uuid().optional().allow(null, '\'''\'')/g' src/middleware/validation.ts && \
docker-compose exec -T backend sed -i 's/siteId: Joi.string().uuid().required()/siteId: Joi.string().uuid().optional().allow(null, '\'''\'')/g' src/middleware/validation.ts && \
docker-compose exec -T backend sed -i "s/brand: Joi.string().max(50).optional().allow('')/brand: Joi.string().max(50).optional().allow('', null)/g" src/middleware/validation.ts && \
docker-compose exec -T backend sed -i "s/model: Joi.string().max(50).optional().allow('')/model: Joi.string().max(50).optional().allow('', null)/g" src/middleware/validation.ts && \
docker-compose exec -T backend sed -i 's/if (!serialNumber || !name || !typeId || !siteId)/if (!serialNumber || !name)/g' src/controllers/instrumentController.ts && \
echo "âœ… Corrections appliquÃ©es, rebuild en cours..." && \
docker-compose build --no-cache backend && \
docker-compose up -d backend && \
sleep 15 && \
echo "âœ… TERMINÃ‰! Testez maintenant sur https://beta-test-metro.mabstudio.fr"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â±ï¸  DurÃ©e estimÃ©e: 2-3 minutes

ğŸ§ª APRÃˆS CORRECTION:
   1. Allez sur https://beta-test-metro.mabstudio.fr
   2. Connectez-vous
   3. CrÃ©ez un nouvel instrument avec SEULEMENT:
      - NumÃ©ro de sÃ©rie: TEST-001
      - Nom: Instrument Test
   4. Laissez Type et Site VIDES
   5. Cliquez "CrÃ©er"
   
   âœ… Devrait fonctionner maintenant!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” EN CAS DE PROBLÃˆME:

# Voir les logs:
docker-compose logs backend --tail=50

# VÃ©rifier l'Ã©tat:
docker-compose ps

# RedÃ©marrage complet:
docker-compose restart backend

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

